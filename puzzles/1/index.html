<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ë¨éËß£„Åç #1</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        function Puzzle1() {
            const [answer, setAnswer] = useState('');
            const [showHint, setShowHint] = useState(false);
            const [solved, setSolved] = useState(false);
            const [isWrong, setIsWrong] = useState(false);
            const [wrongCount, setWrongCount] = useState(0);
            const [audioEnabled, setAudioEnabled] = useState(false);

            const correctAnswer = '„Çä„Çì„Åî';

            // Audio setup
            const sounds = {
                start: new Audio('../../sounds/start.mp3'),
                correct: new Audio('../../sounds/correct.mp3'),
                wrong: new Audio('../../sounds/wrong.mp3'),
                hint: new Audio('../../sounds/hint.mp3')
            };

            // Enable audio on first user interaction
            const enableAudio = () => {
                if (!audioEnabled) {
                    setAudioEnabled(true);
                    // Pre-load all sounds
                    Object.values(sounds).forEach(sound => {
                        sound.volume = 0.1;
                        sound.play().catch(() => {});
                        sound.pause();
                        sound.currentTime = 0;
                        sound.volume = 0.5;
                    });
                }
            };

            const playSound = (soundName) => {
                if (audioEnabled && sounds[soundName]) {
                    sounds[soundName].currentTime = 0;
                    sounds[soundName].play().catch(() => {});
                }
            };

            // Play start sound when component loads
            useEffect(() => {
                const timer = setTimeout(() => {
                    playSound('start');
                }, 500);
                return () => clearTimeout(timer);
            }, []);

            const checkAnswer = () => {
                enableAudio(); // Enable audio on user interaction
                if (answer.trim().toLowerCase() === correctAnswer) {
                    playSound('correct');
                    setSolved(true);
                } else {
                    playSound('wrong');
                    setIsWrong(true);
                    setWrongCount(wrongCount + 1);
                    setTimeout(() => setIsWrong(false), 1000);
                }
            };

            const toggleHint = () => {
                enableAudio();
                if (!showHint) {
                    playSound('hint');
                }
                setShowHint(!showHint);
            };

            return (
                <div style={{
                    minHeight: '100vh',
                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    padding: '20px',
                    fontFamily: 'system-ui, -apple-system, sans-serif'
                }}>
                    <div style={{
                        maxWidth: '600px',
                        margin: '0 auto',
                        background: 'white',
                        borderRadius: '20px',
                        padding: '30px',
                        boxShadow: '0 20px 60px rgba(0,0,0,0.3)'
                    }}>
                        <div style={{
                            textAlign: 'center',
                            marginBottom: '30px'
                        }}>
                            <div style={{ fontSize: '3rem', marginBottom: '10px' }}>üîç</div>
                            <h1 style={{ fontSize: '1.8rem', color: '#333', marginBottom: '5px' }}>
                                Ë¨éËß£„Åç #1
                            </h1>
                            <div style={{
                                display: 'inline-block',
                                padding: '5px 15px',
                                background: '#e3f2fd',
                                borderRadius: '20px',
                                fontSize: '0.9rem',
                                color: '#1976d2'
                            }}>
                                „Çπ„Çø„Éº„ÉàÂú∞ÁÇπ
                            </div>
                        </div>

                        {!solved ? (
                            <>
                                {isWrong && (
                                    <div style={{
                                        padding: '20px',
                                        background: 'linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%)',
                                        borderRadius: '15px',
                                        marginBottom: '20px',
                                        border: '3px solid #e53935',
                                        textAlign: 'center',
                                        animation: 'shake 0.5s'
                                    }}>
                                        <div style={{ fontSize: '3rem', marginBottom: '10px' }}>‚ùå</div>
                                        <h3 style={{ 
                                            fontSize: '1.3rem',
                                            color: '#d32f2f',
                                            marginBottom: '5px'
                                        }}>
                                            ‰∏çÊ≠£Ëß£ÔºÅ
                                        </h3>
                                        <p style={{ fontSize: '0.9rem', color: '#666' }}>
                                            „ÇÇ„ÅÜ‰∏ÄÂ∫¶ËÄÉ„Åà„Å¶„Åø„Çà„ÅÜ
                                        </p>
                                    </div>
                                )}

                                {wrongCount > 0 && !isWrong && (
                                    <div style={{
                                        padding: '10px',
                                        background: '#fff3e0',
                                        borderRadius: '10px',
                                        marginBottom: '15px',
                                        fontSize: '0.9rem',
                                        color: '#e65100',
                                        textAlign: 'center'
                                    }}>
                                        ÊåëÊà¶ÂõûÊï∞: {wrongCount + 1}ÂõûÁõÆ
                                    </div>
                                )}

                                <div style={{
                                    padding: '25px',
                                    background: 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)',
                                    borderRadius: '15px',
                                    marginBottom: '25px',
                                    border: '3px solid #ff9800'
                                }}>
                                    <h2 style={{ 
                                        fontSize: '1.3rem', 
                                        marginBottom: '20px',
                                        color: '#333',
                                        textAlign: 'center'
                                    }}>
                                        üçé Ë¨é„ÇíËß£„ÅëÔºÅ
                                    </h2>
                                    <div style={{
                                        fontSize: '1.5rem',
                                        lineHeight: '2',
                                        textAlign: 'center',
                                        color: '#333',
                                        fontWeight: 'bold',
                                        padding: '20px',
                                        background: 'white',
                                        borderRadius: '10px'
                                    }}>
                                        Ëµ§„Åè„Å¶‰∏∏„ÅÑ<br/>
                                        Êú®„Å´„Å™„Å£„Å¶<br/>
                                        ÁîòÈÖ∏„Å£„Å±„ÅÑ<br/>
                                        „Åì„Çå„Å™„Äú„Çì„Å†Ôºü
                                    </div>
                                </div>

                                <div style={{ marginBottom: '20px' }}>
                                    <input
                                        type="text"
                                        value={answer}
                                        onChange={(e) => setAnswer(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && checkAnswer()}
                                        placeholder="Á≠î„Åà„Çí„Å≤„Çâ„Åå„Å™„ÅßÂÖ•Âäõ"
                                        style={{
                                            width: '100%',
                                            padding: '15px',
                                            fontSize: '1.1rem',
                                            border: '2px solid #ddd',
                                            borderRadius: '10px',
                                            boxSizing: 'border-box',
                                            outline: 'none',
                                            transition: 'border-color 0.3s'
                                        }}
                                        onFocus={(e) => e.target.style.borderColor = '#667eea'}
                                        onBlur={(e) => e.target.style.borderColor = '#ddd'}
                                    />
                                </div>

                                <button
                                    onClick={checkAnswer}
                                    style={{
                                        width: '100%',
                                        padding: '15px',
                                        fontSize: '1.1rem',
                                        fontWeight: 'bold',
                                        color: 'white',
                                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                        border: 'none',
                                        borderRadius: '10px',
                                        cursor: 'pointer',
                                        marginBottom: '15px'
                                    }}
                                >
                                    Á≠î„Åà„ÇíÁ¢∫Ë™ç
                                </button>

                                <button
                                    onClick={toggleHint}
                                    style={{
                                        width: '100%',
                                        padding: '12px',
                                        fontSize: '0.95rem',
                                        color: '#667eea',
                                        background: 'white',
                                        border: '2px solid #667eea',
                                        borderRadius: '10px',
                                        cursor: 'pointer'
                                    }}
                                >
                                    üí° {showHint ? '„Éí„É≥„Éà„ÇíÈö†„Åô' : '„Éí„É≥„Éà„ÇíË¶ã„Çã'}
                                </button>

                                {showHint && (
                                    <div style={{
                                        marginTop: '15px',
                                        padding: '15px',
                                        background: '#f0f4ff',
                                        borderRadius: '10px',
                                        border: '2px solid #667eea',
                                        animation: 'fadeIn 0.3s'
                                    }}>
                                        <div style={{ fontSize: '0.9rem', color: '#555' }}>
                                            üí° „Éí„É≥„Éà: ÁôΩÈõ™Âß´„ÅåÈ£ü„Åπ„ÅüÊûúÁâ©„Åß„Åô
                                        </div>
                                    </div>
                                )}
                            </>
                        ) : (
                            <div style={{
                                textAlign: 'center',
                                animation: 'slideIn 0.5s'
                            }}>
                                <div style={{ fontSize: '5rem', marginBottom: '20px' }}>üéâ</div>
                                <h2 style={{ 
                                    fontSize: '2rem', 
                                    color: '#4CAF50',
                                    marginBottom: '20px'
                                }}>
                                    Ê≠£Ëß£ÔºÅ
                                </h2>
                                
                                <div style={{
                                    padding: '25px',
                                    background: 'linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)',
                                    borderRadius: '15px',
                                    marginBottom: '25px',
                                    border: '3px solid #4CAF50'
                                }}>
                                    <h3 style={{ 
                                        fontSize: '1.3rem',
                                        marginBottom: '15px',
                                        color: '#333'
                                    }}>
                                        üìç Ê¨°„ÅÆË¨é„Å∏„ÅÆÊâã„Åå„Åã„Çä
                                    </h3>
                                    <div style={{
                                        fontSize: '1.2rem',
                                        lineHeight: '1.8',
                                        color: '#333',
                                        padding: '20px',
                                        background: 'white',
                                        borderRadius: '10px'
                                    }}>
                                        Ê¨°„ÅÆË¨é„ÅØ...<br/>
                                        <strong style={{ fontSize: '1.4rem', color: '#1976d2' }}>
                                            „Ç≠„ÉÉ„ÉÅ„É≥
                                        </strong><br/>
                                        „ÅÆËøë„Åè„Å´„ÅÇ„Çã„ÇàÔºÅ
                                    </div>
                                </div>

                                <div style={{
                                    fontSize: '0.9rem',
                                    color: '#666',
                                    padding: '15px',
                                    background: '#f5f5f5',
                                    borderRadius: '10px'
                                }}>
                                    üîé „Ç≠„ÉÉ„ÉÅ„É≥Âë®Ëæ∫„ÇíÊé¢„Åó„Å¶„ÄÅÊ¨°„ÅÆNFC„Çø„Ç∞„ÇíË¶ã„Å§„Åë„Çà„ÅÜÔºÅ
                                </div>
                            </div>
                        )}
                    </div>

                    <style>{`
                        @keyframes slideIn {
                            from {
                                opacity: 0;
                                transform: translateY(-20px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }
                        @keyframes fadeIn {
                            from { opacity: 0; }
                            to { opacity: 1; }
                        }
                        @keyframes shake {
                            0%, 100% { transform: translateX(0); }
                            25% { transform: translateX(-10px); }
                            75% { transform: translateX(10px); }
                        }
                    `}</style>
                </div>
            );
        }

        ReactDOM.render(<Puzzle1 />, document.getElementById('root'));
    </script>
</body>
</html>